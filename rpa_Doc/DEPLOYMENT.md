# üöÄ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô Windows Server (Production Deployment)

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå **RPA & Smart Tax API** ‡∏ö‡∏ô Windows Server ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏á‡πà‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£

---

## üèóÔ∏è ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (Architecture Choices)

‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢ **Python (FastAPI)** ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô Windows Server ‡∏à‡∏∞‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å Java Web App ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠:

### ‚úÖ **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÉ‡∏ä‡πâ IIS (Internet Information Services)**

‡πÉ‡∏ä‡πâ IIS ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Reverse Proxy ‡πÅ‡∏•‡∏∞ Process Manager ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ö‡∏ô Windows

- **‡∏Ç‡πâ‡∏≠‡∏î‡∏µ**: ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Port/Domain ‡∏á‡πà‡∏≤‡∏¢, ‡∏°‡∏µ GUI, Auto-restart ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Server ‡∏î‡∏±‡∏ö

---

## üõ†Ô∏è ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô IIS (Step-by-Step)

### 1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Server (Prerequisites)

1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **Python 3.10+** (‡∏ï‡∏¥‡πä‡∏Å ‚úÖ Add to PATH ‡∏ï‡∏≠‡∏ô‡∏•‡∏á‡∏î‡πâ‡∏ß‡∏¢)
2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **IIS** (‡∏ú‡πà‡∏≤‡∏ô Server Manager > Add Roles > Web Server)
3. ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á **[HttpPlatformHandler](https://www.iis.net/downloads/microsoft/httpplatformhandler)** (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ IIS ‡∏£‡∏±‡∏ô Python ‡πÑ‡∏î‡πâ)

### 2. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå (Setup Files)

1. ‡∏ô‡∏≥‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà `C:\inetpub\wwwroot\RPA_API` (‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `web.config` ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏ö‡πÑ‡∏õ‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå:
   - ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏ß‡∏¢ Notepad
   - ‡πÅ‡∏Å‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î `processPath` ‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `python.exe` ‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á Server
     (Tip: ‡∏û‡∏¥‡∏°‡∏û‡πå `where python` ‡πÉ‡∏ô cmd ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤ path)
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ä‡∏∑‡πà‡∏≠ `logs` ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö log ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)

### 3. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Library (Install Dependencies)

‡πÄ‡∏õ‡∏¥‡∏î PowerShell (Run as Administrator) ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ô:

```powershell
cd C:\inetpub\wwwroot\RPA_API
pip install -r requirements.txt
pip install uvicorn
```

### 4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô IIS Manager

1. ‡πÄ‡∏õ‡∏¥‡∏î **IIS Manager**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤ **Sites** > **Add Website...**
3. **Site name**: `tax-api-v2` (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
4. **Physical path**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
5. **Port**: `80` (‡∏´‡∏£‡∏∑‡∏≠ Port ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
6. ‡∏Å‡∏î OK

### 5. (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç) ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Permission

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ IIS ‡∏≠‡πà‡∏≤‡∏ô/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏î‡πâ (‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå Robot ‡πÅ‡∏•‡∏∞ Logs):

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå > **Properties** > **Security**
2. ‡∏Å‡∏î **Edit** > **Add...**
3. ‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠ `IIS AppPool\tax-api-v2` (‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠ Site ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á) ‡∏´‡∏£‡∏∑‡∏≠ `IIS_IUSRS`
4. ‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå **Modify** ‡∏´‡∏£‡∏∑‡∏≠ **Full Control**

---

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö (Verification)

‡πÄ‡∏õ‡∏¥‡∏î Browser ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Ç‡πâ‡∏≤ `http://localhost/docs` (‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏° Port ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á)

- ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏à‡∏≠‡∏´‡∏ô‡πâ‡∏≤ **Swagger UI** ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
- ‚úÖ ‡∏•‡∏≠‡∏á‡∏Å‡∏î API `/rag/ask` ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÑ‡∏î‡πâ

---

## ‚ùì ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (FAQ)

**Q: ‡πÉ‡∏ä‡πâ Apache Tomcat ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?**
A: **‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á** ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Tomcat ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Java ‡∏´‡∏≤‡∏Å‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Tomcat ‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Tomcat ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Proxy Pass ‡∏°‡∏≤‡∏¢‡∏±‡∏á Python Service (Port 8000) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ IIS

**Q: ‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô?**
A: ‡∏ö‡∏ô IIS ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ Python Code ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ **Restart Website** ‡πÉ‡∏ô IIS Manager ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**Q: ‡∏î‡∏π Log Error ‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô?**
A: ‡∏î‡∏π‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `logs` ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π‡∏ú‡πà‡∏≤‡∏ô **Event Viewer** ‡∏Ç‡∏≠‡∏á Windows
